# implementation_plan.md

## Project Overview
**Application**: Real-Time LAN Quiz Application
**Goal**: Allow multiple users on the same LAN to join a quiz hosted by an administrator.
**Tech Stack**:
- **Backend**: Java (Spring Boot recommended for WebSockets support + ease of use)
- **Frontend**: Next.js (React)
- **Database**: MongoDB
- **Communication**: WebSockets (Real-time bi-directional events)

## Suitability Analysis
The proposed stack is **highly suitable** with a small adjustment:
- **Java Sockets vs WebSockets**: Browser clients (Next.js) cannot connect to raw TCP "Java Sockets" easily. They connect via **WebSockets**. Therefore, we will use **Spring Boot with WebSockets** to bridge the Java backend and the Web frontend. This is the standard industry approach for this stack.
- **MongoDB**: Excellent choice for storing variable quiz structures and realtime session data.
- **Next.js**: Perfect for a responsive, interactive client that needs to react instantly to socket events.

## Architecture

```text
[MongoDB] <--> [Java Spring Boot Backend] <--> (WebSocket) <--> [Next.js Frontend Clients]
```

## Step-by-Step Implementation Plan

### Phase 1: Project Initialization
- [ ] **Directory Structure**: Create `backend` and `frontend` folders.
- [ ] **Backend Setup**: Initialize a Spring Boot project (Maven/Gradle) with dependencies:
    - `spring-boot-starter-websocket`
    - `spring-boot-starter-data-mongodb`
    - `lombok` (optional, for less boilerplate)
- [ ] **Frontend Setup**: Initialize a Next.js project.
    - `npx create-next-app@latest frontend`
    - Install `socket.io-client` or native `WebSocket` logic.

### Phase 2: Backend Core (Java)
- [ ] **Configuration**: Configure MongoDB connection and WebSocket endpoint (`/ws`).
- [ ] **Models**: 
    - `Quiz` (title, questions list)
    - `Player` (username, score)
    - `GameSession` (pin, state, currentQuestion)
- [ ] **WebSocket Handler**: Handle message types:
    - `JOIN_GAME`
    - `START_GAME`
    - `SUBMIT_ANSWER`
    - `NEXT_QUESTION`
- [ ] **Game Logic**: Verify answers, update scores, broadcast state changes to all subscribed clients.

### Phase 3: Frontend Core (Next.js)
- [ ] **State Management**: Create a `SocketContext` or specific hooks to manage the connection.
- [ ] **UI Components**:
    - **Welcome/Login**: Enter Name & Game PIN.
    - **Lobby**: Waiting for host to start.
    - **Question View**: Timer, Question text, Option buttons.
    - **Leaderboard**: Real-time ranking after each question.
- [ ] **Styling**: Use CSS Modules or Tailwind for a "Premium" look (Animations, Transitions).

### Phase 4: LAN & Deployment
- [ ] **Host Binding**: Ensure Backend and Frontend bind to `0.0.0.0` to be accessible on LAN.
- [ ] **CORS**: Configure Backend to accept requests from the Frontend's LAN IP.
- [ ] **Testing**: Verify connectivity between two devices on the same Wi-Fi.

## Directory Structure
```
h:/Operating_System_And_Network_Project/
  ├── backend/          # Java Spring Boot Code
  ├── frontend/         # Next.js Code
  └── README.md
```
mongodb+srv://kpathum616_db_user:fK0d6DOuZSOwX5mQ@cluster0.nmktj0n.mongodb.net/